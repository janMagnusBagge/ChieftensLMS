@model int?
<div ng-controller="courseUsersController">
	<a href="~/Course/Details/@Model" class="btn btn-default">Kurs</a>
	@if (User.IsInRole("Teacher"))
	{
		<div class="row">
			<div class="col-md-6">
				<h3>Lägg till medlem</h3>
				<div class="panel panel-default">
					<div class="panel-body">
						@{Html.RenderPartial("_AddUser_Teacher", Model);}
					</div>
				</div>

			</div>
			<div class="col-md-6">
				<h3>Medlemmar</h3>
				<div class="panel panel-default">
					<div class="panel-body">
						@{ Html.RenderPartial("_AllUsers_Teacher", Model);}
					</div>
				</div>
			</div>
		</div>
	}
	else
	{
		<h3>Alla medlemmar</h3>
		<div class="panel panel-default">
			<div class="panel-body">
				@{Html.RenderPartial("_AllUsers", Model);}
			</div>
		</div>
	}


</div>

<script>

	angular.module('app').controller('courseUsersController', function ($scope) {
		$scope.$on("courseAddUserTeacherController_added", function () {
			$scope.$broadcast("courseAllUsersTeacherController_refresh");
		})

		$scope.$on("courseAllUsersTeacherController_removed", function(){
			$scope.$broadcast("courseAddUserTeacherController_refresh");
		})

	});

</script>
